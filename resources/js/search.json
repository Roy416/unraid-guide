[[{"l":"\uD83D\uDE4C Guide's Purpose","p":["If this is your first time building a home lab it can be quite overwhelming, especially after the tedious task of picking out the hardware. So in the spirit of Unraid having an active community, I've created this guide!","This includes guides for the typical services people want. Which include:","a media server (Plex)","being able to sync and share files (Nextcloud),","backing up photos from your phone (Immich),","how to access these outside of your house, and","how to back up your stuff.","There are written instructions with accompanying videos and even pictures for the longer setups. So no matter how how you like your guides, you're covered."]}],[{"l":"\uD83E\uDD37‍♀️ Why Unraid?","p":["It does cost money for x amount of drives. unlike its counter part.","I chose Unraid because it looked easier to use compared to some of the other options and it isn’t picky with the drives you can use."]}],[{"l":"Choosing Hardware?","p":["If I was to build a server again, I'd only be slightly less confused on how to go about it than I was the first time. Here are just some of the stuff I remember."]},{"l":"Hard Drives","p":["There are a few things to consider when purchasing hard drives."]},{"l":"CMR vs SMR","p":["CMR and SMR are different ways data cant be written to the drive, and CMR is better. Some people say you can get away with using a SMR drive if you aren't using it as a parity drive, but your call."]},{"l":"Buying Used HDDs?","p":["Server communities such as serverbuilds.net actually recommend you to buy used hard drives. And I know I know, you're probably saying \"that sounds like the exact opposite of what I should do.\"","Here are the supporting reasons:","Hard drives don't have a certain amount of data it can write until it dies (unlike SSDs) so they can run for a long time. A brand new HDD also has a chance of dying right away so it's kind of like a lottery. With the used drives they are at least tested before being sent out (if bought from a reputable place).","Used drives are significantly cheaper than new drives when you're looking at large storage sizes. Like, saving hundreds of dollars cheaper.","The downsides to buying these used hard drives are that they are noisier and vibrate more.","Noise - How noisy are they? The noise is only really a worry if the server is going to be in the same room where people frequent a lot (e.g. bedroom, living room). With one drive it's a baby hum, but the more drives, the louder the hum. Unraid does have a feature where it turns off the drive if its not in use, however its nosiest when starting up.","Vibration - Now these bad boys do get bumping and grinding. You might've read some worrisome posts online about hearing the vibrations in other rooms. They probably have it on something hollow and lightweight like a desk or cabinet, because where else would you put a server unless you already have a server rack or are able to put the server in a laundry room or something.. But rest assured there is a solution that I've found. Put the server on a handful of thick neoprene foam sheets and you're golden. THIS IS FOR PUTTING IT ON A DESK, IDK ABOUT MID TOWER CASES"]},{"l":"HBA Controllers","p":["These are basically PCIe cards that add extra SATA ports for your drives, as motherboards typically have 4 ports. Drives can also have SAS ports, so there are controllers with multple SAS ports."]},{"l":"SSD","p":["People often put a SSD in their build as a cache drive. For two reasons:","So the system files can be on the SSD and run faster.","The files downloaded will go onto the SSD faster and then get moved to the array using Unraid's mover feature.","Even though Unraid main features are towards hard drives, you can 100% have an all SSD Build. When installing the cache drive that you're going to put the system files on, put them in the first M.2 slot. I made the mistake of putting it in the second M.2 slot thinking that they're both the same speed so it shouldn't matter. It DOES matter. The first slot has more stable connection with the CPU. By having the drive in the second slot, my docker was crashing a lot."]},{"l":"CPU","p":["Assuming the server is for regular home lab uses and nothing out of the ordinary, you ideally want a low TDP CPU. Seeing how people use really old parts, the amount of cores and threads isn't a huge concern, just get whatever you can.","Quick Sync may be something to look out for when choosing a CPU. It allows for hardware transcoding for media servers , rather than only relying on software which is super slow."]},{"l":"PSU","p":["Same deal as buying a power supply for your PC. Don't be an asshole idiot and grab a cheap unit because it doesn't give performance. You can refer to this"]},{"l":"Case","p":["Ah yes cases, this is where things can be spicy. There are regular PC cases with a lot of HDD drives, server oriented cases, and some cases with sleds so you can easily swap on drives. Here are some options that I'm aware of."]},{"l":"Cases","p":["Fractal Node 304","|400x400","$110 USD Mini ITX case Holds 6 drives Very Compact I have this and I personally wished I was able to get the bigger version as my drives be a lil toasty.","Fractal Node 804","pic","Fractal Define R5","Fractal Define R7","Jonsbo N Cases (N2 and beyond)","Asus Prime AP201","Cooler Master N400"]},{"l":"USB","p":["Unraid is run on a USB stick. Some popular USB options mentioned a lot in the Unraid Discord include Transcend Jetflash 780 (high quality stuff), Samsung Bar Plus, and the Cruzer Fit."]},{"l":"What If I want a cheap build to test this server stuff out?","p":["The HP Elitedesk 800 G4 SFF is a great option. It can hold 2 drives, and also has 2 M.2 slots. And the i5 8500 that it sports also has 6 cores."]},{"l":"Buying Used Parts","p":["A lot of the people who know what they're doing get old and used parts for making these kinds of servers. In fact there's a whole community dedicated to this. Link Nas Killer. However eBay is often used for these parts.","link the NAS server people. people typically get used parts plug in serverbuild disc"]}],[{"l":"\uD83D\uDD22 Different Methods","p":["In this section, we will be setting up the network that will allow you to access your apps outside of your home. If you don’t plan on needing remote access, you can skip to the Apps & Plugins section.","There are 3 ways to connect your server remotely; VPN, Port Forward, and Cloudflare Tunnel. I'll be explaining each of these. There is a TLDR chart at the bottom."]},{"l":"\uD83D\uDD78️ VPN","p":["VPN stands for Virtual Private Network and they're awesome. You may have seen ads for VPNs, this uses the same technology but for a slightly different purpose. You can think of it as having your own private tunnel, where nobody else can see the data that goes through it nor can they hack into it, and it's free!","VPNs have all the positives except for one. Which is if you want your friends to access an app on the server, they must also have the VPN client downloaded and connected to your network. It would also require some tinkering so your friends only have access to the app and not your entire server."]},{"l":"⏩ Port Forward","p":["With this method, your friends can easily access your apps. To achieve this, it does come with some compromise to your security. With this, you're opening a port so your friends can connect to it, but so can the hackers that are scanning for open ports.","Whether this is safe or not depends on the security of the app you're running behind that port. So if the app is popular and is constantly getting updates, then the chances of you getting compromised is low but technically always exists.","In order to connect to your apps remotely, you would need to purchase a domain which go for $10-$30 per year. We will also be using Cloudflare for protection, however that invites an upload restriction of 100mb. I found this to be a problem when long videos on my phone were trying to be backed up."]},{"l":"\uD83D\uDE87 Cloudflare Tunnel","p":["Cloudflare Tunnels has been touted to be the best method as it's setup quick, secure, and your friends can easily access it. However it has one big caveat. Which is, it is not meant to be used for large data transfers. This includes no media streaming, no transferring of files, etc. So it's best served for static websites (e.g. Overseer, recipe viewing website, idk).","Some people still debate on what Cloudflare’s TOS applies to or if there is a way to go around it. Technically you’re still able to do it, but it’s up to you if you want to take the chance of getting banned.","Another downside is, since you are using Cloudflare's Tunnel, any data that you send or receive is being seen by Cloudflare. Whether this is concerning or not depends on you. Cloudflare's bread and butter is providing security, so you would think them seeing your data is alright. But if you're really sensitive to privacy then this is a no go.","And like the Port Forwarding method, you would need to purchase a domain and there would be the same upload restriction."]},{"l":"\uD83E\uDD37 So..what do I use?","p":["Ideally you would want most of the apps you want to use remotely under a VPN, as it's really secure and has no data restrictions.","If you want to share Plex/Jellyfin/Google Drive alternative with your friends you can use the port forwarding method. For Plex only (due to its magic), you simply have to open its port and can avoid doing this.","Then for any static websites that you want to share (e.g. Overseerr), you can use Cloudflare Tunnels.","\\"]}],[{"l":"VPN"},{"l":"!? Wireguard vs Tailscale","p":["You may have heard the terms Wireguard or Tailscale when discussing about VPNs. Wireguard is the actual protocol of the VPN. While Tailscale uses the wireguard protocol. Why choose Tailscale over Wireguard? Wireguard is easy to set up, but Tailscale is even easier. Tailscale also has other cool features too and is baked right in Unraid.","As of Feb 2025, Tailscale Integration is quite new so there are bound to be future changes and improvements. \\ note about the custom name https","turn off key expiry on devices that will permanently be on your tailscale account. and turn on https and set fancy name.","Bunch of new features get added, such as Tail drop."]}],[{"l":"Installation","p":["On the community apps, install Tailscale (Plugin) by Derek Kaser or it might just say \"Official\" (It might be installed by default).","Go to Settings→ Network Services→ Tailscale.","It'll ask you to reauthenticate and sign up to Tailscale. It'll then ask you to connect the server to this account and redirect you to the admin console.","In the admin console, you'll see your server and the Tailscale IP associated with it. By clicking on the 3 dots, you can change it's name. You should also disable the key expiry for the devices that will permanently be on your Tailscale network.","Click DNS. Under Tailnet name, you can optionally change the randomly generated wordy address you got, to something more fun and memorable. Scroll down to Magic DNS and HTTPS Certificates, these should both be enabled.","With HTTPS on, IF somebody got a hold of your Tailnet name, they could search it up somewhere and see the names of the devices on your Tailscale network. Not a big deal but just a little disclaimer.","At the top, you can click download to get the Tailscale client for your device. Once installed and signed in, try putting your server's Tailsacle IP, and it should take you to your Unraid login page!","If you already have a VPN such as Proton, Nord, etc, it may not work. In your VPN settings, try split tunneling (whitelisting) all the ranges of Tailscale IPs, which is 100.64.0.0/10.","You can also access any of your services with this, by typing the server's Tailescale IP and then the Web UI port at the end (e.g. 100.96.53.101:2283)."]}],[{"l":"Subnet (Optional)","p":["If you log into Unraid with your Tailscale IP and click on the Web UI of a container, you'll notice that IP address reverts back to the local one. It's working now because you're at home, but once you're outside, it won't. Now you could take your Tailscale IP, and slap the port of the container you want at the end of it, then bookmark it, and call it day. Another way is by creating a subnet.","By creating a subnet, all the devices on your Tailscale network would be connected to your local network. So basically you can be away from your home, but your device will act like its connected to your home wifi. So you can start your laundry machine remotely or a better example is viewing your home security cameras without opening any ports.","Creating a Subnet:","Go to Settings→ Tailscale. Click on \" Viewing\" and Sign in. You might have to try it again twice or thrice.","A new but similar page will pop up, click Subnet.","To find what route to enter, take your Unraid IP Address, remove the number after the last decimal, and append \"0/24\". For example, if your Unraid IP Address is 192.168.2.202, your subnet would be 192.168.2.0/24. After entering that in, click Advertise new routes.","Click the blue text that says \" the machine’s route settings\". Alternatively, go to Tailscale's Site → Admin Console → Click on your Server's Machine.","Under Subnets, it'll say awaiting approval, click Edit, select the route, and click Save."]}],[{"l":"Giving Access","p":["Currently you can access all your services from any of your device that you've logged in and setup Tailscale on. You could invite someone to your tailscale network, however, that will mean they will have access to all of your services, server files, and your home network. What if there was a way to invite someone but only have access to a specific container?","Note: I haven't gotten this to work for Plex or Nextcloud (google drive alternative)."]},{"i":"tsd--label--manager","l":"TSD + Label Manager","p":["This is the method which the creator of the Tailscale plugin created and recommends. Currently it doesn't support TCP/UDP stuff which is necessary for giving access to game servers.","Download TSD Proxy and Label Manager.","Go to Settings→ Users Utilities→ Label Manager.","Go to the running container you want, click Edit, and Select Yes.","Open the Web UI for TSD Proxy. It'll show \"authenticating\" for the container you just added. Click on it, click connect, click \"Open in admin console\", and click Approve. If nothing shows up on TSD Proxy, try checking if the container you're trying to add. It might have stopped so try restarting it.","Now go to the Admin Console on Tailscale, and you'll see the container you just added as a device. Where you can share it to someone.","dfdfdfffdf. for qbittrent/ sab/stuff with different internal ports you have to add 8080. for immich since we added that through docker compsoe file, copy and paste the lines you added to the compose here.","for nextcloud the port is 11000 for the master container, make it https, add it to the config of nextcloud and add nextcloud-aio network to tsdproxy."]},{"l":"Tailscale Integration Switch","p":["With the 7.0 update, containers have tailscale integration builtin within their settings.","Right click on a container, and click edit.","Turn on \"Use Tailscale\"","Enter a name for it in \"Tailscale Hostname\". This is what will appear as the device name on your Tailscale network. And click Apply.","Open the logs of the container, and it'll ask you to click on a link to authenticate. After clicking connect, click \"Open in admin console\", and click Approve.","Now you can connect to it by using the tailscale address with all letters."]}],[{"l":"Port Forward"},{"l":"☁️ Purchasing a Domain & Cloudflare Setup"},{"l":"\uD83D\uDCB0 Buying your domain","p":["After looking at several domain registrars, I chose to buy a domain from Namecheap. You can buy it from another registrar but make sure it comes with “ whois protection”. This protects your information from a public database, where anyone can use your domain to lookup your email, phone number, and address."]},{"l":"❓ What’s Cloudflare?","p":["Cloudflare offers a bunch of services, including making your web connection more secure for free. It acts as a security guard between the URL you’re connecting to and your Unraid Server. You’re also going to be adding extra security by creating your own special certificate.","Note: Even though we’re using Cloudflare for this method, we are not using their tunnels. So your data isn’t subject to their visibility.","How to access port forwarding","key terms"]}],[{"l":"Initial Installation","p":["Accompanying video by IBRACORP","Note: Cloudflare is constantly changing their website layout, so in the future these steps may not exactly depict what to do, but the same stuff needs to be done nonetheless.","Buy a domain from a registrar of your choice.","Sign up with Cloudflare using a free account, enter your domain, and it should prompt you to do a quick scan for DNS records.","After the scan, the DNS records page should appear. If not, on the bar on the left, click DNS and then Records. This page lets you create URLs and connects them to your server, we will come back to this later. Click continue.","It'll now ask you to replace your domain registrar's nameservers with Cloudflare's own nameservers. What is a nameserver","Go to your domain registrar's settings and find the DNS section. Next, it should say somewhere to use custom nameservers. Add both of the nameservers that Cloudflare gave.","Then go back to Cloudflare and click \"Done, check nameserver s.\" This could take a few mins to 30 minutes, or even longer."]},{"l":"<span data-gb-custom-inline data-tag=\"emoji\" data-code=\"1f511\">\uD83D\uDD11</span> <strong>Key Term - Port Forwarding</strong>","p":["When you port forward something, you’re opening a port, aka creating an access point. This access point allows you to access your services when you’re in the outside world.","However, since you’re able to connect to the access point from the outside world, there is a potential that a hacker can do the same.","Of course, there are ways to secure the ports and minimize the threat, but some part of the threat will still remain."]}],[{"l":"Extra Security & DDNS"},{"l":"Enabling DNSSEC","p":["On Cloudflare, Click DNS, and then Settings. and Enable DNSSEC. And it should give you a bunch of keys and numbers.","Go to your Domain Registrar's settings, and under the DNS settings, find DNSSEC section.","Click to add a new DS, and enter whatever information it asks from the list of keys and numbers cloudflare gave you before. and click Save."]},{"l":"Creating your own certificate","p":["On the left side bar, click SSL/TLS, and then click Configure. And select Full (strict).","Then under SSL/TLS on the left, click Origin Server. And click Create Certificate.","Open up a notepad, copy the PEM text and save it as a .pem file. Similary for the private key, open another notepad, copy it, save it as a .key file."]},{"l":"DDNS","p":["Typically we would enter our public ip address into cloudflare ourselves and connect it to our domain. Well, it has a habit of changing. It could change in a day, in a week, or in a month, making you unable to connect to your apps remotely.","That is where Dynamic DDNS comes in. If the Public IP address happens to change, the Dynamic DDNS will automatically update it, so you can continue to use your services like nothing ever happened.","First, let's grab your Cloudflare API key. Go to Cloudflare, on the top right click on the user icon and click Profile, click on API Tokens, and copy the Global API Key.","On the community apps, search for Cloudflare-DDNS by Selfhoster Tools.","Enter the email associated with Cloudflare, the API key you just got, and your domain. Click Apply.","Now if you go to Cloudflare's DNS Records, your domain will appear with your public IP Address."]}],[{"l":"Reverse Proxy","p":["A reverse proxy looks like an intimidating term, but what this basically does is links your URLs (e.g., nextcloud.domain.com) to your apps so that you can access them outside of your home. You’ll be making these URLs in the next part."]},{"l":"Installation","p":["Search nginxproxymanager from the app store and install.","Change the HTTP port from 80 to 1880 and the HTTPS port from 443 to 18443.","Open the Web UI of NPM and enter the default credentials that was written in the overview, user: admin@example.com and password: changeme. Change the email and password.","Go to your router settings, to the port forwarding section, and enter these 2 entries. Remember to click save!","Remember those certificates we made in the previous section? Let's add them in. Open NPM, Click SSL Certificates on the top bar, Click Add SSL Certificate, and Click Custom.","Give your Certificate a name, for the Certificate Key, choose the .key file, and then the .pem file for the other Certificate. Click Save."]}],[{"l":"Giving Access","p":["Note the Web UI port of the container you want access to be given to","Open Nginx Proxy Manager, then go to Proxy Hosts, and click Add Proxy Host.","Add what your website should be, for example, overseer.domain.com. Make sure to click add, sometimes it doesn't enter properly.","Majority of the containers use http. Some may use https like nextcloud. Whether or not you should use http vs https depends on the app. Most of them use http, but some do use https, for example Nextcloud.","Then enter your server ip for the forward hostname and the web ui port of the container for the forward port.","You can enable all of cache assets, block common exploits, and websockets support. Websockets support isn't necessary for most apps,","Click SSL, and choose your custom certificate. Also enable Force SSL, HTTP/2 Support, and HSTS Enabled. Both Websockets support and HSTS Enabled aren't necessary for every container,","Now head on over to Cloudflare and its DNS Records. Click Add Record, change the type to CNAME, for name enter the subdomain, and for the ipv4 address its your domain.","All done! Now try entering that URL in and hopefully you can see your container!"]}],[{"l":"Cloudflare Tunnel"},{"l":"☁️ Purchasing a Domain & Cloudflare Tunnel Setup"},{"l":"\uD83D\uDCB0 Buying your domain","p":["After looking at several domain registrars, I chose to buy a domain from Namecheap. You can buy it from another registrar but make sure it comes with “ whois protection”. This protects your information from a public database, where anyone can use your domain to lookup your email, phone number, and address."]},{"l":"❓ What's Cloudflare?","p":["Cloudflare offers a bunch of services, including making your web connection more secure for free. With Cloudflare Tunnels (previously known as Zero Trust Tunnel, Argo tunnel), all the information that is sent to and from your Unraid apps goes through their tunnel, connecting you to the web and keeping you protected. For a more detailed explanation, watch IBRACORP’s Video up until the 9-minute mark."]}],[{"l":"Initial Installation","p":["Accompanying video by IBRACORP","Note: Cloudflare is constantly changing their website layout, so in the future these steps may not exactly depict what to do, but the same stuff needs to be done none the less.","Buy a domain from a registrar of your choice.","Sign up with Cloudflare using a free account, enter your domain, and it should prompt you to do a quick scan for DNS records.","After the scan, the DNS records page should appear. If not, on the bar on the left, click DNS and then Records. This page lets you create URLs and connects them to your server, we will come back to this later. Click continue.","It'll now ask you to replace your domain registrar's nameservers with Cloudflare's own nameservers. What is a nameserver","Go to your domain registrar's settings and find the DNS section. Next, it should say somewhere to use custom nameservers. Add both of the nameservers that Cloudflare gave.","Then go back to Cloudflare and click \"Done, check nameserver s.\" This could take a few mins to 30 minutes, or even longer."]}],[{"l":"Creating a Tunnel","p":["if theres any dns records that you didnt enter, you can delete it. ,_ do this for port forward method too."]}],[{"l":"bing bong","p":["hi there yayaya","video accompanid bye..","\uD83D\uDE00 IYABBA"]},{"l":"yup"},{"l":"you know how we do","p":["Main Item","Sub","caption","First item pinguz","First sub-item","Second sub-item","Nested sub-item","Second item","Another sub-item","Third item"]},{"l":"My Panel","p":["Name","Value","Cows","Make my shit bigggerr","ANDTHEN i was liie blablah blahblah","Item 2","Green"]}]]